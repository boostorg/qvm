<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
	<meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
	<title>%</title>
	<link href='reno.css' type='text/css' rel='stylesheet'/>
</head>
<body>
<div class="body-0">
<div class="body-1">
<div class="body-2">
<div>
<div id="reverge_logo">
<a href="http://www.revergestudios.com"><img style="border:0" src="reverge.png" alt="Reverge"/></a>
</div>
<h1><a href="index.html">Boost QVM</a></h1>
</div>
<!-- Copyright (c) 2008-2015 Emil Dotchevski and Reverge Studios, Inc. -->
<!-- Distributed under the Boost Software License, Version 1.0. (See accompanying -->
<!-- file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<div class="RenoIncludeDIV"><h3>Rationale for overloading operator <span class="RenoLink">%</span></h3>
<p>Many libraries that are similar to Boost QVM provide access to the elements of quaternion, vector and matrix objects by overloading <i>operator[]</i> or <i>operator()</i> of the quaternion/vector/matrix types they define. For example, for a 3D vector object <i>v</i>, one would use <i>v[0]</i>, <i>v[1]</i> and <i>v[2]</i> to access the X, Y and Z element of <i>v</i>.</p>
<p>Boost QVM is designed to work with user-defined quaternion, vector and matrix types. It provides namespace-scope function and operator overloads that kick-in for objects of any compatible type. Unfortunately, it is not possible to use the same technique to provide generic <i>operator[]</i> or <i>operator()</i> overloads, because they are required to be member functions.</p>
<p>While the user-defined types themselves can provide those overloads, a generic function (which is presumably supposed to work with <i>any</i> quaternion/vector/matrix object) can not rely on such overloads being available. Moreover, Boost QVM itself generates many quaternion, vector and matrix types; defining member operator overloads for each of these types would be tedious, and very difficult to test.</p>
<p>A (non-operator) function overload would work, however a notation like</p>
<pre>el(v,X) *= 42; //use X as an lvalue.
el(v1,YXZ) = v2; //use v1 as a swizzled lvalue and copy v2's elements in it.</pre>
<p>is uglier than</p>
<pre>v<span class="RenoLink">%</span>X *= 42;
v1<span class="RenoLink">%</span>YXZ = v2;</pre>
<p><i>Operator<span class="RenoLink">%</span></i> was chosen over other suitable binary operators because of its relatively high precedence.</p>
</div><div class="RenoAutoDIV"><div class="RenoHR"><hr/></div>
See also: <span class="RenoPageList"><a href="accessing_matrix_elements.html">Accessing Matrix Elements</a>&nbsp;| <a href="accessing_quaternion_elements.html">Accessing Quaternion Elements</a>&nbsp;| <a href="accessing_vector_elements.html">Accessing Vector Elements</a>&nbsp;| <a href="index.html">Boost QVM</a>&nbsp;| <a href="sw.html">sw</a>&nbsp;| <a href="transform_point.html">transform_point</a>&nbsp;| <a href="transform_vector.html">transform_vector</a></span>
</div>
<!-- Copyright (c) 2008-2015 Emil Dotchevski and Reverge Studios, Inc. -->
<!-- Distributed under the Boost Software License, Version 1.0. (See accompanying -->
<!-- file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<div id="footer">
<p>
<a class="logo" href="http://jigsaw.w3.org/css-validator/check/referer"><img class="logo_pic" src="valid-css.png" alt="Valid CSS" height="31" width="88"/></a>
<a class="logo" href="http://validator.w3.org/check?uri=referer"><img class="logo_pic" src="valid-xhtml.png" alt="Valid XHTML 1.0" height="31" width="88"/></a>
<small>Copyright (c) 2008-2015 by Emil Dotchevski and Reverge Studios, Inc.<br/>
Distributed under the <a href="http://www.boost.org/LICENSE_1_0.txt">Boost Software License, Version 1.0</a>.</small>
</p>
</div>
</div>
</div>
</div>
</body>
</html>
